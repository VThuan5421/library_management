{% extends 'base.html' %}
{% load static %}
{% block title %}Library - Update profile{% endblock %}
{% block body %}
<div class = "container padding-half">
    <h3 class = "text-center">Update profile - {{request.user.get_full_name}}</h3>
    <form method = "POST">
        {% csrf_token %}
        <div class = "row mt-4">
            <div class = "col-md-6 col-12">
                <div class = "row">
                    <div class = "form-group col-md-12">
                        <label><i style = "font-weight: bold;">Username</i></label>
                        <input type = "text" class = "form-control mt-2" name = "username" value = "{{user}}" readonly>
                    </div>
                    <div class = "form-group col-md-12">
                        <label><i style = "font-weight: bold;">Full name</i></label>
                        <input type = "text" class = "form-control mt-2" name = "fullname" value = "{{user.student.fullname}}">
                    </div>
                    <div class = "form-group col-md-12">
                        <label><i style = "font-weight: bold;">Roll Number</i></label>
                        <input type = "text" class = "form-control mt-2" name = "roll_no" value = "{{user.student.roll_no}}">
                    </div>
                    <div class = "form-group col-md-12">
                        <label><i style = "font-weight: bold;">Branch name</i></label>
                        <input type = "text" class = "form-control mt-2" name = "branch" value = "{{user.student.branch}}">
                    </div>
                </div>
            </div>
            <div class = "col-md-6 col-12">
                <div class = "row">
                    <div class = "form-group col-md-12">
                        <label><i style = "font-weight: bold;">Email</i></label>
                        <input type = "email" class = "form-control mt-2" name = "email" value = "{{user.email}}">
                    </div>
                    <div class = "form-group col-md-12">
                        <label><i style = "font-weight: bold;">Classroom</i></label>
                        <input type = "text" class = "form-control mt-2" name = "classroom" value = "{{user.student.classroom}}">
                    </div>
                    <div class = "form-group col-md-12">
                        <label><i style = "font-weight: bold;">Phone number</i></label>
                        <input type = "text" class = "form-control mt-2" name = "phone" value = "{{user.student.phone}}">
                    </div>
                </div>
            </div>
        </div>
        <button type = "submit" class = "btn btn-outline-primary mt-5">Update profile</button>
    </form>
</div>
{% endblock %}
{% block js %}
<script>
    {% if alert %}
    alert("Profile updated successfully.")
    document.location = "/profile"
    {% endif %}
</script>
{% endblock %}